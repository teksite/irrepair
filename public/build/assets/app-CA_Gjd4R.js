let n=document.querySelectorAll(".reload-captcha-btn");n.length&&n.forEach(r=>{r.addEventListener("click",e=>{e.preventDefault();const a=e.target.closest(".reload-captcha-btn"),l=a.getAttribute("data-for"),c=document.querySelector(`img[data-id="${l}"]`);if(!c)return;a.classList.add("animate-spin");const d=document.querySelector('meta[name="csrf-token"]').getAttribute("content");axios.post("/ajax/captcha/reload",{},{headers:{"X-CSRF-TOKEN":d,"Content-Type":"application/json"}}).then(t=>{var o;(o=t.data)!=null&&o.data&&(c.src=t.data.data)}).catch(t=>{console.error("Captcha reload failed:",t)}).finally(()=>{a.classList.remove("animate-spin")})})});

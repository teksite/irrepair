import{t as o}from"./lang-BWGy8NiM.js";import{S as f,a as p}from"./sweetalert2.esm.all-DtpkUpAP.js";const d=document.querySelectorAll(".delete-item-btn");d.length&&d.forEach(s=>{s.addEventListener("click",i=>{i.preventDefault();let a=s.getAttribute("data-target"),t=document.getElementById(a),n=(t==null?void 0:t.closest("tr"))??(t==null?void 0:t.closest("li"))??t;n&&(n.style.transition="all 0.3s linear",n.style.opacity="0.2"),f.fire({icon:"warning",title:o("delete"),text:o("are sure to delete this item?"),showCancelButton:!0,cancelButtonText:o("cansel"),confirmButtonText:o("yes")}).then(e=>{e.isConfirmed?t.submit():n&&n.removeAttribute("style")})})});function y(s){const i=document.querySelector(".dots-container");let a=0,t=document.getElementsByClassName("active-slide")[0];t&&(a=t.getAttribute("id"));const n=function(l){document.querySelectorAll(".dot").forEach(r=>{r.classList.remove("active"),r.removeAttribute("disabled")}),document.querySelector(`.dot[data-slide="${l}"]`).classList.add("active"),document.querySelector(`.dot[data-slide="${l}"]`).setAttribute("disabled","disabled")};n(a);const e=function(l){s.forEach((r,m)=>r.style.transform=`translateX(${100*(m-l)}%)`)};e(a),i.addEventListener("click",function(l){if(l.target.classList.contains("dot")){const r=l.target.dataset.slide;e(r),n(r)}})}const u=document.querySelectorAll(".slide");u.length&&y(u);const c=document.querySelectorAll(".send2Factor");if(c.length){let s=document.querySelector('input[name="usage"]').value,i=document.querySelector('input[name="type"]').value;c.forEach(a=>{a.addEventListener("click",t=>{t.preventDefault(),c.forEach(e=>{e.disabled=!0,e.classList.add("opacity-25")});let n=document.getElementById("waitEl");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block;" width="60" height="60" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><path d="M10 50A40 40 0 0 0 90 50A40 45 0 0 1 10 50" fill="#fff" stroke="none"><animateTransform attributeName="transform" type="rotate" dur="1.5384615384615383s" repeatCount="indefinite" keyTimes="0;1" values="0 50 52.5;360 50 52.5"></animateTransform></path></svg>';try{axios.post("/ajax/auth/send-otp",{usage:s,type:i,via:a.value},{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),"Content-Type":"multipart/form-data"}}).then(function(e){n.innerHTML=`<p class="text-xs bg-green-600 text-white">کد یک بار مصرف به ${a.value} ارسال شد</p>`}).catch(function(e){console.error(e),n.innerHTML=`
<p class="text-sm text-red-700">
مشکلی بوجود آمده است لطفا دوباره تلاش کنید
</p>`}).finally(()=>{c.forEach(e=>{e.disabled=!1,e.classList.remove("opacity-25")})})}catch(e){console.error(e)}})})}p();
